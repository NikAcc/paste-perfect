import{_ as h}from"./chunk-CXCMY4KK.js";import{d as r,h as T,m as n,n as c}from"./chunk-L6NEJVET.js";import{a as o}from"./chunk-UKH264FY.js";import{I as m,O as l,fa as s}from"./chunk-FNVWSYXI.js";var v=class i{PRISM_STYLESHEET_ID="prism-theme";storageService=l(o);messageService=l(h);_selectedTheme=s(this.loadInitialTheme());constructor(){document.addEventListener("DOMContentLoaded",()=>this.applyTheme(this.selectedTheme),{once:!0})}get selectedTheme(){return this._selectedTheme()}set selectedTheme(t){this.storageService.setItem(r,t.value),this._selectedTheme.set(t),this.applyTheme(t)}getAllThemes(){return[...this.getLightThemes(),...this.getDarkThemes()]}getLightThemes(){return this.getThemes(n)}getDarkThemes(){return this.getThemes(c)}applyTheme(t){let e=document.getElementById(this.PRISM_STYLESHEET_ID);e||(e=document.createElement("link"),e.id=this.PRISM_STYLESHEET_ID,e.rel="stylesheet",document.head.appendChild(e)),e.href=`prism-themes/${t.value}.css`,e.onerror=()=>{this.messageService.add({severity:"error",summary:"Theme Load Failed",detail:`Failed to load theme: ${t.value}`}),console.error(`Failed to load theme: ${t.value}`)}}loadInitialTheme(){let t=this.storageService.getItem(r)||"",e=this.getAllThemes();return e.find(a=>a.value===t)??e[0]}getThemes(t){return T(t).map(([e,a])=>({label:e,value:a})).sort((e,a)=>e.label.localeCompare(a.label))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{v as a};
